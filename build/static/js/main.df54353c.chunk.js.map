{"version":3,"sources":["web_config.js","dispatcher.js","stores/HomeStore.js","pages/Home.js","actions/HomeActions.js","index.js"],"names":["module","exports","api_key","dispatcher","Dispatcher","homeStore","HomeStore","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","sessions","action","type","emit","EventEmitter","register","handleActions","bind","Home","getAllSessions","assertThisInitialized","state","setInterval","on","removeListener","axios","headers","x-api-key","config","content-type","then","body","console","log","dispatch","JSON","parse","react_default","a","createElement","id","map","session","time","toasters","toaster","username","React","Component","ReactDOM","render","BrowserRouter","Route","path","exact","component","document","getElementById"],"mappings":"0EAAAA,EAAOC,QAAU,CACbC,QAAW,yLCCAC,EAAA,UAAIC,YCyBbC,EAAY,gBArBd,SAAAC,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACVC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,QACKI,SAAW,GAFNP,gFAMhB,OAAOG,KAAKI,+CAGCC,GACb,OAAOA,EAAOC,MACJ,IAAK,mBACDN,KAAKI,SAAWC,EAAOD,SACvBJ,KAAKO,KAAK,kBAfFC,iBAwBxBf,EAAWgB,SAASd,EAAUe,cAAcC,KAAKhB,IAElCA,8CCzBMiB,cAEjB,SAAAA,IAAc,IAAAf,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAY,IACVf,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAc,GAAAT,KAAAH,QACKa,eAAeF,KAApBb,OAAAgB,EAAA,EAAAhB,QAAAgB,EAAA,EAAAhB,CAAAD,KACAA,EAAKkB,MAAQ,CAClBX,SAAUR,EAAUiB,kBAEfhB,EAAKgB,iBACLG,YAAY,WACRnB,EAAKgB,kBACN,KATOhB,oFAaVD,EAAUqB,GAAG,SAAUjB,KAAKa,+DAI5BjB,EAAUsB,eAAe,SAAUlB,KAAKa,yDClB/CM,IAAM,sDACC,CACIC,QAAS,CACLC,YAAaC,IAAO9B,QACpB+B,eAAgB,sBAG1BC,KAAM,SAACC,GACLC,QAAQC,IAAI,SAAUF,GAC5BhC,EAAWmC,SAAS,CAACtB,KAAM,mBAAoBF,SAAUyB,KAAKC,MAAML,ODc9DzB,KAAKe,MAAMX,SAAWR,EAAUiB,kDAKhC,OADAa,QAAQC,IAAI,UAAW3B,KAAKe,OAExBgB,EAAAC,EAAAC,cAAA,OAAKC,GAAG,kBAChBH,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,UACEjC,KAAKe,MAAMX,SAAS+B,IAAI,SAACC,GAAD,OACxBL,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,wBAAgBG,EAAQC,MACvBD,EAAQE,SAASH,IAAI,SAACI,GAAD,OACrBR,EAAAC,EAAAC,cAAA,UAAKM,EAAQC,wBArCaC,IAAMC,WECxCC,IAASC,OACLb,EAAAC,EAAAC,cAACY,EAAA,EAAD,KACId,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACa,EAAA,EAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWrC,MAG7CsC,SAASC,eAAe","file":"static/js/main.df54353c.chunk.js","sourcesContent":["module.exports = {\r\n    'api_key': '',\r\n}\r\n","import {Dispatcher} from 'flux';\r\n\r\nexport default new Dispatcher();\r\n","import {EventEmitter} from 'events';\r\n\r\nimport dispatcher from '../dispatcher.js';\r\n\r\nclass HomeStore extends EventEmitter {\r\n\r\n    constructor() {\r\n        super();\r\n        this.sessions = [];\r\n    }\r\n\r\n    getAllSessions() {\r\n\t\treturn this.sessions;\r\n\t}\r\n\r\n\thandleActions(action) {\r\n\t\tswitch(action.type) {\r\n            case \"RECEIVE_SESSIONS\":\r\n                this.sessions = action.sessions;\r\n                this.emit(\"change\");\r\n                break;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst homeStore = new HomeStore();\r\ndispatcher.register(homeStore.handleActions.bind(homeStore));\r\n\r\nexport default homeStore;\r\n","import React from 'react';\r\n\r\nimport HomeStore from '../stores/HomeStore';\r\nimport * as HomeActions from '../actions/HomeActions';\r\n\r\nexport default class Home extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.getAllSessions.bind(this);\r\n        this.state = {\r\n\t\t\tsessions: HomeStore.getAllSessions(),\r\n\t\t}\r\n        this.getAllSessions();\r\n        setInterval(() => {\r\n            this.getAllSessions();\r\n        }, 60000);\r\n    }\r\n\r\n    componentWillMount() {\r\n        HomeStore.on(\"change\", this.getAllSessions);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        HomeStore.removeListener(\"change\", this.getAllSessions);\r\n    }\r\n\r\n    getAllSessions() {\r\n        HomeActions.getAllSessions();\r\n        this.state.sessions = HomeStore.getAllSessions();\r\n    }\r\n\r\n    render() {\r\n        console.log(\"STATE: \", this.state);\r\n        return (\r\n            <div id=\"home_container\">\r\n\t\t\t\t<h1>Scheduled Sessions</h1>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{this.state.sessions.map((session) => (\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h3>Starts At: {session.time}</h3>\r\n\t\t\t\t\t\t\t{session.toasters.map((toaster) => (\r\n\t\t\t\t\t\t\t\t<h4>{toaster.username}</h4>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import dispatcher from '../dispatcher.js';\r\nimport axios from 'axios';\r\n\r\nimport config from '../web_config.js';\r\n\r\nexport function getAllSessions() {\r\n\taxios(\"https://roasty-toasty-online.herokuapp.com/sessions\",\r\n        {\r\n            headers: {\r\n                'x-api-key': config.api_key,\r\n                'content-type': 'application/json'\r\n            }\r\n        }\r\n    ).then( (body) => {\r\n        console.log(\"BODY: \", body);\r\n\t\tdispatcher.dispatch({type: \"RECEIVE_SESSIONS\", sessions: JSON.parse(body)});\r\n\t});\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter, Route} from 'react-router-dom';\r\n\r\nimport Home from './pages/Home';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <div>\r\n            <Route path=\"/\" exact component={Home}></Route>\r\n        </div>\r\n    </BrowserRouter>,\r\ndocument.getElementById('root'));\r\n"],"sourceRoot":""}